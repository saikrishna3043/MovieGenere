<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineMatch - Movie Genre Predictor & Suggestions</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .navbar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .navbar-brand {
            font-weight: bold;
            font-size: 1.8rem;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .main-container {
            margin-top: 2rem;
            margin-bottom: 2rem;
        }

        .quiz-card, .suggestions-card {
            background: rgba(255, 255, 255, 0.95);
            border: none;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .quiz-card:hover, .suggestions-card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 1.5rem;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 0.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step.active {
            background: var(--primary-gradient);
            color: white;
            transform: scale(1.1);
        }

        .step.completed {
            background: var(--success-gradient);
            color: white;
        }

        .question-card {
            border: none;
            border-radius: 15px;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
        }

        .question-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .btn-option {
            border: 2px solid #e9ecef;
            border-radius: 25px;
            padding: 0.75rem 1.5rem;
            margin: 0.25rem;
            transition: all 0.3s ease;
            background: white;
            color: #495057;
        }

        .btn-option:hover, .btn-option.active {
            background: var(--primary-gradient);
            color: white;
            border-color: transparent;
            transform: translateY(-2px);
        }

        .result-card {
            background: var(--success-gradient);
            color: white;
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            margin: 2rem 0;
        }

        .genre-emoji {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: block;
        }

        .movie-card {
            border: none;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative;
        }

        .movie-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .movie-poster {
            height: 300px;
            object-fit: cover;
            width: 100%;
        }

        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: #dc3545;
            color: white;
            transform: scale(1.1);
        }

        .add-movie-form {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .btn-primary {
            background: var(--primary-gradient);
            border: none;
            border-radius: 25px;
            padding: 0.75rem 2rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: var(--secondary-gradient);
            border: none;
            border-radius: 25px;
            padding: 0.75rem 2rem;
            font-weight: 600;
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .fade-out {
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.5s ease;
        }

        @media (max-width: 768px) {
            .step-indicator {
                flex-wrap: wrap;
            }
            
            .step {
                width: 30px;
                height: 30px;
                margin: 0.25rem;
            }
            
            .btn-option {
                width: 100%;
                margin: 0.25rem 0;
            }
        }

        [data-bs-theme="dark"] body {
            background: linear-gradient(135deg, #0f1419 0%, #1a202c 100%);
        }

        [data-bs-theme="dark"] .quiz-card,
        [data-bs-theme="dark"] .suggestions-card,
        [data-bs-theme="dark"] .add-movie-form {
            background: rgba(45, 55, 72, 0.95);
            color: white;
        }

        [data-bs-theme="dark"] .question-card {
            background: rgba(45, 55, 72, 0.9);
            color: white;
        }

        [data-bs-theme="dark"] .btn-option {
            background: rgba(45, 55, 72, 0.8);
            color: white;
            border-color: #4a5568;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-film me-2"></i>CineMatch
            </a>
            <div class="navbar-nav ms-auto d-flex flex-row">
                <select class="form-select form-select-sm me-3" id="languageSelect" style="width: auto;">
                    <option value="en">üá∫üá∏ English</option>
                    <option value="hi">üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                    <option value="te">üáÆüá≥ ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                </select>
                <button class="btn btn-outline-light btn-sm me-2" id="darkModeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-outline-light btn-sm" id="resetBtn">
                    <i class="fas fa-refresh me-1"></i><span data-translate="reset">Reset</span>
                </button>
            </div>
        </div>
    </nav>

    <div class="container main-container">
        <!-- Genre Predictor Section -->
        <div class="row mb-5">
            <div class="col-12">
                <div class="card quiz-card">
                    <div class="card-header text-center">
                        <h2 class="mb-0">
                            <i class="fas fa-magic me-2"></i>
                            <span data-translate="genre_predictor">Movie Genre Predictor</span>
                        </h2>
                        <p class="mb-0 mt-2" data-translate="discover_genre">Discover your perfect movie genre!</p>
                    </div>
                    <div class="card-body p-4">
                        <!-- Quiz Steps Indicator -->
                        <div class="step-indicator" id="stepIndicator">
                            <div class="step active" data-step="1">1</div>
                            <div class="step" data-step="2">2</div>
                            <div class="step" data-step="3">3</div>
                            <div class="step" data-step="4">4</div>
                            <div class="step" data-step="5">5</div>
                        </div>

                        <!-- Progress Bar -->
                        <div class="progress mb-4" style="height: 10px; border-radius: 10px;">
                            <div class="progress-bar" id="progressBar" role="progressbar" style="width: 20%; background: var(--primary-gradient);"></div>
                        </div>

                        <!-- Quiz Questions -->
                        <div id="quizContainer">
                            <!-- Questions will be dynamically generated -->
                        </div>

                        <!-- Loading Spinner -->
                        <div class="loading-spinner" id="loadingSpinner">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p class="mt-3" data-translate="analyzing">Analyzing your preferences...</p>
                        </div>

                        <!-- Quiz Result -->
                        <div id="quizResult" style="display: none;"></div>

                        <!-- Quiz Navigation -->
                        <div class="d-flex justify-content-between mt-4" id="quizNavigation">
                            <button class="btn btn-secondary" id="prevBtn" style="display: none;">
                                <i class="fas fa-arrow-left me-2"></i><span data-translate="previous">Previous</span>
                            </button>
                            <button class="btn btn-primary" id="nextBtn">
                                <span data-translate="next">Next</span><i class="fas fa-arrow-right ms-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Movie Suggestions Section -->
        <div class="row">
            <div class="col-12">
                <div class="card suggestions-card">
                    <div class="card-header text-center">
                        <h2 class="mb-0">
                            <i class="fas fa-heart me-2"></i>
                            <span data-translate="my_movies">My Favorite Movies</span>
                        </h2>
                        <p class="mb-0 mt-2" data-translate="build_collection">Build your personal movie collection</p>
                    </div>
                    <div class="card-body p-4">
                        <!-- Add Movie Form -->
                        <div class="add-movie-form">
                            <h5 class="mb-3" data-translate="add_movie">Add New Movie</h5>
                            <div class="row g-3">
                                <div class="col-md-5">
                                    <input type="text" class="form-control" id="movieName" placeholder="Enter movie name">
                                </div>
                                <div class="col-md-5">
                                    <input type="url" class="form-control" id="movieImage" placeholder="Enter poster URL">
                                </div>
                                <div class="col-md-2">
                                    <button class="btn btn-primary w-100" id="addMovieBtn">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Movies Grid -->
                        <div id="moviesGrid" class="row g-4">
                            <!-- Movies will be dynamically added here -->
                        </div>

                        <!-- Empty State -->
                        <div id="emptyState" class="text-center py-5">
                            <i class="fas fa-film text-muted" style="font-size: 4rem;"></i>
                            <h4 class="text-muted mt-3" data-translate="no_movies">No movies added yet</h4>
                            <p class="text-muted" data-translate="start_adding">Start building your collection above!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3" id="toastContainer"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Translations
        const translations = {
            en: {
                genre_predictor: "Movie Genre Predictor",
                discover_genre: "Discover your perfect movie genre!",
                my_movies: "My Favorite Movies",
                build_collection: "Build your personal movie collection",
                add_movie: "Add New Movie",
                no_movies: "No movies added yet",
                start_adding: "Start building your collection above!",
                reset: "Reset",
                previous: "Previous",
                next: "Next",
                analyzing: "Analyzing your preferences...",
                mood_question: "What's your ideal movie mood?",
                theme_question: "Which themes appeal to you most?",
                pace_question: "What story pace do you prefer?",
                setting_question: "Which setting interests you?",
                time_question: "When do you usually watch movies?",
                funny: "Funny & Light-hearted",
                emotional: "Emotional & Deep",
                thrilling: "Thrilling & Exciting",
                mysterious: "Mysterious & Intriguing",
                love: "Love & Romance",
                adventure: "Adventure & Journey",
                war: "War & Conflict",
                fantasy: "Fantasy & Magic",
                fast: "Fast-paced",
                moderate: "Moderate",
                slow: "Slow & Thoughtful",
                realistic: "Realistic & Modern",
                historical: "Historical",
                futuristic: "Futuristic & Sci-Fi",
                evening: "Evening",
                weekend: "Weekend afternoons",
                late_night: "Late night",
                anytime: "Anytime",
                movie_added: "Movie added successfully!",
                movie_deleted: "Movie deleted successfully!",
                enter_movie_name: "Please enter a movie name",
                enter_image_url: "Please enter an image URL"
            },
            hi: {
                genre_predictor: "‡§´‡§ø‡§≤‡•ç‡§Æ ‡§ú‡•á‡§®‡§∞ ‡§™‡•ç‡§∞‡•Ä‡§°‡§ø‡§ï‡•ç‡§ü‡§∞",
                discover_genre: "‡§Ö‡§™‡§®‡§æ ‡§™‡§∞‡§´‡•á‡§ï‡•ç‡§ü ‡§Æ‡•Ç‡§µ‡•Ä ‡§ú‡•á‡§®‡§∞ ‡§ñ‡•ã‡§ú‡•á‡§Ç!",
                my_movies: "‡§Æ‡•á‡§∞‡•Ä ‡§™‡§∏‡§Ç‡§¶‡•Ä‡§¶‡§æ ‡§´‡§ø‡§≤‡•ç‡§Æ‡•á‡§Ç",
                build_collection: "‡§Ö‡§™‡§®‡§æ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§Æ‡•Ç‡§µ‡•Ä ‡§ï‡§≤‡•á‡§ï‡•ç‡§∂‡§® ‡§¨‡§®‡§æ‡§è‡§Ç",
                add_movie: "‡§®‡§à ‡§´‡§ø‡§≤‡•ç‡§Æ ‡§ú‡•ã‡§°‡§º‡•á‡§Ç",
                no_movies: "‡§Ö‡§≠‡•Ä ‡§§‡§ï ‡§ï‡•ã‡§à ‡§´‡§ø‡§≤‡•ç‡§Æ ‡§®‡§π‡•Ä‡§Ç ‡§ú‡•ã‡§°‡§º‡•Ä ‡§ó‡§à",
                start_adding: "‡§ä‡§™‡§∞ ‡§∏‡•á ‡§Ö‡§™‡§®‡§æ ‡§ï‡§≤‡•á‡§ï‡•ç‡§∂‡§® ‡§¨‡§®‡§æ‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç!",
                reset: "‡§∞‡•Ä‡§∏‡•á‡§ü",
                previous: "‡§™‡§ø‡§õ‡§≤‡§æ",
                next: "‡§Ö‡§ó‡§≤‡§æ",
                analyzing: "‡§Ü‡§™‡§ï‡•Ä ‡§™‡§∏‡§Ç‡§¶ ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç...",
                mood_question: "‡§Ü‡§™‡§ï‡§æ ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§Æ‡•Ç‡§µ‡•Ä ‡§Æ‡•Ç‡§° ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?",
                theme_question: "‡§ï‡•å‡§® ‡§∏‡•á ‡§•‡•Ä‡§Æ ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§¨‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§™‡§∏‡§Ç‡§¶ ‡§π‡•à‡§Ç?",
                pace_question: "‡§Ü‡§™ ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§™‡§∏‡§Ç‡§¶ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç?",
                setting_question: "‡§ï‡•å‡§® ‡§∏‡•Ä ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó ‡§Ü‡§™‡§ï‡•ã ‡§¶‡§ø‡§≤‡§ö‡§∏‡•ç‡§™ ‡§≤‡§ó‡§§‡•Ä ‡§π‡•à?",
                time_question: "‡§Ü‡§™ ‡§Ü‡§Æ‡§§‡•å‡§∞ ‡§™‡§∞ ‡§ï‡§¨ ‡§´‡§ø‡§≤‡•ç‡§Æ‡•á‡§Ç ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç?",
                funny: "‡§Æ‡§ú‡•á‡§¶‡§æ‡§∞ ‡§î‡§∞ ‡§π‡§≤‡•ç‡§ï‡§æ-‡§´‡•Å‡§≤‡•ç‡§ï‡§æ",
                emotional: "‡§≠‡§æ‡§µ‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§î‡§∞ ‡§ó‡§π‡§∞‡§æ",
                thrilling: "‡§∞‡•ã‡§Æ‡§æ‡§Ç‡§ö‡§ï ‡§î‡§∞ ‡§â‡§§‡•ç‡§§‡•á‡§ú‡§®‡§æ‡§™‡•Ç‡§∞‡•ç‡§£",
                mysterious: "‡§∞‡§π‡§∏‡•ç‡§Ø‡§Æ‡§Ø ‡§î‡§∞ ‡§¶‡§ø‡§≤‡§ö‡§∏‡•ç‡§™",
                love: "‡§™‡•ç‡§∞‡•á‡§Æ ‡§î‡§∞ ‡§∞‡•ã‡§Æ‡§æ‡§Ç‡§∏",
                adventure: "‡§è‡§°‡§µ‡•á‡§Ç‡§ö‡§∞ ‡§î‡§∞ ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ",
                war: "‡§Ø‡•Å‡§¶‡•ç‡§ß ‡§î‡§∞ ‡§∏‡§Ç‡§ò‡§∞‡•ç‡§∑",
                fantasy: "‡§´‡§Ç‡§§‡§æ‡§∏‡•Ä ‡§î‡§∞ ‡§ú‡§æ‡§¶‡•Ç",
                fast: "‡§§‡•á‡§ú‡§º ‡§ó‡§§‡§ø",
                moderate: "‡§Æ‡§ß‡•ç‡§Ø‡§Æ",
                slow: "‡§ß‡•Ä‡§Æ‡§æ ‡§î‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞‡§∂‡•Ä‡§≤",
                realistic: "‡§Ø‡§•‡§æ‡§∞‡•ç‡§•‡§µ‡§æ‡§¶‡•Ä ‡§î‡§∞ ‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï",
                historical: "‡§ê‡§§‡§ø‡§π‡§æ‡§∏‡§ø‡§ï",
                futuristic: "‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§¶‡•Ä ‡§î‡§∞ ‡§∏‡§æ‡§á-‡§´‡§æ‡§à",
                evening: "‡§∂‡§æ‡§Æ",
                weekend: "‡§µ‡•Ä‡§ï‡•á‡§Ç‡§° ‡§¶‡•ã‡§™‡§π‡§∞",
                late_night: "‡§¶‡•á‡§∞ ‡§∞‡§æ‡§§",
                anytime: "‡§ï‡§≠‡•Ä ‡§≠‡•Ä",
                movie_added: "‡§´‡§ø‡§≤‡•ç‡§Æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§ú‡•ã‡§°‡§º‡•Ä ‡§ó‡§à!",
                movie_deleted: "‡§´‡§ø‡§≤‡•ç‡§Æ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§π‡§ü‡§æ‡§à ‡§ó‡§à!",
                enter_movie_name: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡§ø‡§≤‡•ç‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç",
                enter_image_url: "‡§ï‡•É‡§™‡§Ø‡§æ ‡§á‡§Æ‡•á‡§ú ‡§ï‡§æ URL ‡§°‡§æ‡§≤‡•á‡§Ç"
            },
            te: {
                genre_predictor: "‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞ú‡±ã‡∞®‡∞∞‡±ç ‡∞™‡±ç‡∞∞‡∞ø‡∞°‡∞ø‡∞ï‡±ç‡∞ü‡∞∞‡±ç",
                discover_genre: "‡∞Æ‡±Ä ‡∞™‡∞∞‡±ç‡∞´‡±Ü‡∞ï‡±ç‡∞ü‡±ç ‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞ú‡±ã‡∞®‡∞∞‡±ç ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞Ç‡∞°‡∞ø!",
                my_movies: "‡∞®‡∞æ ‡∞á‡∞∑‡±ç‡∞ü‡∞Æ‡±à‡∞® ‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ‡∞≤‡±Å",
                build_collection: "‡∞Æ‡±Ä ‡∞µ‡±ç‡∞Ø‡∞ï‡±ç‡∞§‡∞ø‡∞ó‡∞§ ‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞∏‡±á‡∞ï‡∞∞‡∞£‡∞®‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø",
                add_movie: "‡∞ï‡±ä‡∞§‡±ç‡∞§ ‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø",
                no_movies: "‡∞á‡∞Ç‡∞ï‡∞æ ‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ‡∞≤‡±Å ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞≤‡±á‡∞¶‡±Å",
                start_adding: "‡∞™‡±à‡∞® ‡∞Æ‡±Ä ‡∞∏‡±á‡∞ï‡∞∞‡∞£‡∞®‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞Æ‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø!",
                reset: "‡∞∞‡±Ä‡∞∏‡±Ü‡∞ü‡±ç",
                previous: "‡∞Æ‡±Å‡∞®‡±Å‡∞™‡∞ü‡∞ø",
                next: "‡∞§‡∞¶‡±Å‡∞™‡∞∞‡∞ø",
                analyzing: "‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞æ‡∞ß‡∞æ‡∞®‡±ç‡∞Ø‡∞§‡∞≤‡∞®‡±Å ‡∞µ‡∞ø‡∞∂‡±ç‡∞≤‡±á‡∞∑‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Æ‡±Å...",
                mood_question: "‡∞Æ‡±Ä ‡∞Ü‡∞¶‡∞∞‡±ç‡∞∂ ‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞Æ‡±Ç‡∞°‡±ç ‡∞è‡∞Æ‡∞ø‡∞ü‡∞ø?",
                theme_question: "‡∞è ‡∞•‡±Ä‡∞Æ‡±ç‚Äå‡∞≤‡±Å ‡∞Æ‡±Ä‡∞ï‡±Å ‡∞Ö‡∞§‡±ç‡∞Ø‡∞Ç‡∞§ ‡∞Ü‡∞ï‡∞∞‡±ç‡∞∑‡∞£‡±Ä‡∞Ø‡∞Ç‡∞ó‡∞æ ‡∞Ö‡∞®‡∞ø‡∞™‡∞ø‡∞∏‡±ç‡∞§‡∞æ‡∞Ø‡∞ø?",
                pace_question: "‡∞Æ‡±Ä‡∞∞‡±Å ‡∞è ‡∞ï‡∞•‡∞æ ‡∞µ‡±á‡∞ó‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞á‡∞∑‡±ç‡∞ü‡∞™‡∞°‡∞§‡∞æ‡∞∞‡±Å?",
                setting_question: "‡∞è ‡∞∏‡±Ü‡∞ü‡±ç‡∞ü‡∞ø‡∞Ç‡∞ó‡±ç ‡∞Æ‡±Ä‡∞ï‡±Å ‡∞Ü‡∞∏‡∞ï‡±ç‡∞§‡∞ø‡∞ï‡∞∞‡∞Ç‡∞ó‡∞æ ‡∞Ö‡∞®‡∞ø‡∞™‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø?",
                time_question: "‡∞Æ‡±Ä‡∞∞‡±Å ‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£‡∞Ç‡∞ó‡∞æ ‡∞é‡∞™‡±ç‡∞™‡±Å‡∞°‡±Å ‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ‡∞≤‡±Å ‡∞ö‡±Ç‡∞∏‡±ç‡∞§‡∞æ‡∞∞‡±Å?",
                funny: "‡∞∏‡∞∞‡∞¶‡∞æ‡∞ó‡∞æ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞§‡±á‡∞≤‡∞ø‡∞ï‡∞ó‡∞æ",
                emotional: "‡∞≠‡∞æ‡∞µ‡±ã‡∞¶‡±ç‡∞µ‡±á‡∞ó ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞≤‡±ã‡∞§‡±à‡∞®",
                thrilling: "‡∞•‡±ç‡∞∞‡∞ø‡∞≤‡±ç‡∞≤‡∞ø‡∞Ç‡∞ó‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞â‡∞§‡±ç‡∞∏‡∞æ‡∞π‡∞ï‡∞∞‡∞Æ‡±à‡∞®",
                mysterious: "‡∞∞‡∞π‡∞∏‡±ç‡∞Ø‡∞Æ‡±à‡∞® ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ü‡∞∏‡∞ï‡±ç‡∞§‡∞ø‡∞ï‡∞∞‡∞Æ‡±à‡∞®",
                love: "‡∞™‡±ç‡∞∞‡±á‡∞Æ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∞‡±ä‡∞Æ‡∞æ‡∞®‡±ç‡∞∏‡±ç",
                adventure: "‡∞∏‡∞æ‡∞π‡∞∏‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞™‡±ç‡∞∞‡∞Ø‡∞æ‡∞£‡∞Ç",
                war: "‡∞Ø‡±Å‡∞¶‡±ç‡∞ß‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡∞Ç‡∞ò‡∞∞‡±ç‡∞∑‡∞£",
                fantasy: "‡∞´‡∞æ‡∞Ç‡∞ü‡∞∏‡±Ä ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Æ‡∞æ‡∞Ø‡∞æ‡∞ú‡∞æ‡∞≤‡∞Ç",
                fast: "‡∞µ‡±á‡∞ó‡∞µ‡∞Ç‡∞§‡∞Æ‡±à‡∞®",
                moderate: "‡∞Æ‡∞ß‡±ç‡∞Ø‡∞∏‡±ç‡∞•",
                slow: "‡∞®‡±Ü‡∞Æ‡±ç‡∞Æ‡∞¶‡∞ø‡∞ó‡∞æ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ü‡∞≤‡±ã‡∞ö‡∞®‡∞æ‡∞§‡±ç‡∞Æ‡∞ï‡∞Ç‡∞ó‡∞æ",
                realistic: "‡∞µ‡∞æ‡∞∏‡±ç‡∞§‡∞µ‡∞ø‡∞ï ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ü‡∞ß‡±Å‡∞®‡∞ø‡∞ï",
                historical: "‡∞ö‡∞æ‡∞∞‡∞ø‡∞§‡±ç‡∞∞‡∞ø‡∞ï",
                futuristic: "‡∞≠‡∞µ‡∞ø‡∞∑‡±ç‡∞Ø‡∞§‡±ç‡∞§‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡±à‡∞Ç‡∞∏‡±ç ‡∞´‡∞ø‡∞ï‡±ç‡∞∑‡∞®‡±ç",
                evening: "‡∞∏‡∞æ‡∞Ø‡∞Ç‡∞§‡±ç‡∞∞‡∞Ç",
                weekend: "‡∞µ‡±Ä‡∞ï‡±Ü‡∞Ç‡∞°‡±ç ‡∞Æ‡∞ß‡±ç‡∞Ø‡∞æ‡∞π‡±ç‡∞®‡∞Ç",
                late_night: "‡∞Ö‡∞∞‡±ç‡∞ß‡∞∞‡∞æ‡∞§‡±ç‡∞∞‡∞ø",
                anytime: "‡∞é‡∞™‡±ç‡∞™‡±Å‡∞°‡±à‡∞®‡∞æ",
                movie_added: "‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞µ‡∞ø‡∞ú‡∞Ø‡∞µ‡∞Ç‡∞§‡∞Ç‡∞ó‡∞æ ‡∞ú‡±ã‡∞°‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø!",
                movie_deleted: "‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞µ‡∞ø‡∞ú‡∞Ø‡∞µ‡∞Ç‡∞§‡∞Ç‡∞ó‡∞æ ‡∞§‡±ä‡∞≤‡∞ó‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞Ç‡∞¶‡∞ø!",
                enter_movie_name: "‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞™‡±á‡∞∞‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø",
                enter_image_url: "‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞Ç URL ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø"
            }
        };

        // Quiz Questions
        const quizQuestions = [
            {
                id: 'mood',
                key: 'mood_question',
                options: [
                    { id: 'funny', key: 'funny', value: 'funny' },
                    { id: 'emotional', key: 'emotional', value: 'emotional' },
                    { id: 'thrilling', key: 'thrilling', value: 'thrilling' },
                    { id: 'mysterious', key: 'mysterious', value: 'mysterious' }
                ]
            },
            {
                id: 'theme',
                key: 'theme_question',
                options: [
                    { id: 'love', key: 'love', value: 'romance' },
                    { id: 'adventure', key: 'adventure', value: 'adventure' },
                    { id: 'war', key: 'war', value: 'action' },
                    { id: 'fantasy', key: 'fantasy', value: 'fantasy' }
                ]
            },
            {
                id: 'pace',
                key: 'pace_question',
                options: [
                    { id: 'fast', key: 'fast', value: 'fast' },
                    { id: 'moderate', key: 'moderate', value: 'moderate' },
                    { id: 'slow', key: 'slow', value: 'slow' }
                ]
            },
            {
                id: 'setting',
                key: 'setting_question',
                options: [
                    { id: 'realistic', key: 'realistic', value: 'realistic' },
                    { id: 'historical', key: 'historical', value: 'historical' },
                    { id: 'futuristic', key: 'futuristic', value: 'scifi' }
                ]
            },
            {
                id: 'time',
                key: 'time_question',
                options: [
                    { id: 'evening', key: 'evening', value: 'evening' },
                    { id: 'weekend', key: 'weekend', value: 'weekend' },
                    { id: 'late_night', key: 'late_night', value: 'late_night' },
                    { id: 'anytime', key: 'anytime', value: 'anytime' }
                ]
            }
        ];

        // Genre Prediction Logic
        const genreLogic = {
            'Comedy': {
                conditions: ['funny'],
                emoji: 'üòÇ',
                message: 'You love to laugh and enjoy light-hearted entertainment!'
            },
            'Romance': {
                conditions: ['romance', 'emotional'],
                emoji: 'üíï',
                message: 'You appreciate love stories and emotional connections!'
            },
            'Action': {
                conditions: ['thrilling', 'action', 'fast'],
                emoji: 'üí•',
                message: 'You crave excitement and high-octane adventures!'
            },
            'Horror': {
                conditions: ['mysterious', 'late_night'],
                emoji: 'üëª',
                message: 'You enjoy mysteries and spine-chilling experiences!'
            },
            'Drama': {
                conditions: ['emotional', 'slow', 'realistic'],
                emoji: 'üé≠',
                message: 'You appreciate deep, thought-provoking stories!'
            },
            'Sci-Fi': {
                conditions: ['scifi', 'futuristic', 'thrilling'],
                emoji: 'üöÄ',
                message: 'You love exploring the possibilities of the future!'
            },
            'Fantasy': {
                conditions: ['fantasy', 'adventure'],
                emoji: 'üßô‚Äç‚ôÇÔ∏è',
                message: 'You enjoy magical worlds and epic adventures!'
            },
            'Historical': {
                conditions: ['historical', 'moderate'],
                emoji: 'üèõÔ∏è',
                message: 'You appreciate stories from the past and period pieces!'
            }
        };

        // App State
        let currentStep = 1;
        let quizAnswers = {};
        let currentLanguage = 'en';
        let movies = [];

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            loadMovies();
            renderQuizStep();
            updateUI();
            setupEventListeners();
        });

        function loadSettings() {
            // This would use localStorage in a real environment
            // For demo purposes, we'll use memory storage
            const savedLanguage = 'en'; // localStorage.getItem('language') || 'en';
            const savedTheme = 'light'; // localStorage.getItem('theme') || 'light';
            
            currentLanguage = savedLanguage;
            document.getElementById('languageSelect').value = currentLanguage;
            
            if (savedTheme === 'dark') {
                document.documentElement.setAttribute('data-bs-theme', 'dark');
                document.getElementById('darkModeToggle').innerHTML = '<i class="fas fa-sun"></i>';
            }
        }

        function loadMovies() {
            // This would use localStorage in a real environment
            // For demo purposes, we'll use memory storage
            movies = []; // JSON.parse(localStorage.getItem('movies') || '[]');
            renderMovies();
        }

        function saveMovies() {
            // This would save to localStorage in a real environment
            // For demo purposes, we'll just keep in memory
            // localStorage.setItem('movies', JSON.stringify(movies));
        }

        function setupEventListeners() {
            // Language selector
            document.getElementById('languageSelect').addEventListener('change', function(e) {
                currentLanguage = e.target.value;
                // localStorage.setItem('language', currentLanguage);
                updateUI();
            });

            // Dark mode toggle
            document.getElementById('darkModeToggle').addEventListener('click', function() {
                const currentTheme = document.documentElement.getAttribute('data-bs-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                document.documentElement.setAttribute('data-bs-theme', newTheme);
                this.innerHTML = newTheme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
                // localStorage.setItem('theme', newTheme);
            });

            // Reset button
            document.getElementById('resetBtn').addEventListener('click', function() {
                currentStep = 1;
                quizAnswers = {};
                movies = [];
                saveMovies();
                renderQuizStep();
                renderMovies();
                updateStepIndicator();
                document.getElementById('quizResult').style.display = 'none';
                document.getElementById('quizNavigation').style.display = 'flex';
            });

            // Quiz navigation
            document.getElementById('nextBtn').addEventListener('click', handleNext);
            document.getElementById('prevBtn').addEventListener('click', handlePrevious);

            // Add movie
            document.getElementById('addMovieBtn').addEventListener('click', addMovie);
            
            // Enter key for movie form
            document.getElementById('movieName').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addMovie();
            });
            document.getElementById('movieImage').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addMovie();
            });
        }

        function updateUI() {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLanguage][key]) {
                    element.textContent = translations[currentLanguage][key];
                }
            });

            // Update placeholders
            document.getElementById('movieName').placeholder = currentLanguage === 'en' ? 'Enter movie name' : 
                currentLanguage === 'hi' ? '‡§´‡§ø‡§≤‡•ç‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§°‡§æ‡§≤‡•á‡§Ç' : '‡∞∏‡∞ø‡∞®‡∞ø‡∞Æ‡∞æ ‡∞™‡±á‡∞∞‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø';
            document.getElementById('movieImage').placeholder = currentLanguage === 'en' ? 'Enter poster URL' : 
                currentLanguage === 'hi' ? '‡§™‡•ã‡§∏‡•ç‡§ü‡§∞ URL ‡§°‡§æ‡§≤‡•á‡§Ç' : '‡∞™‡±ã‡∞∏‡±ç‡∞ü‡∞∞‡±ç URL ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø';

            renderQuizStep();
        }

        function renderQuizStep() {
            const container = document.getElementById('quizContainer');
            
            if (currentStep <= quizQuestions.length) {
                const question = quizQuestions[currentStep - 1];
                const questionText = translations[currentLanguage][question.key];
                
                container.innerHTML = `
                    <div class="question-card card">
                        <div class="card-body text-center">
                            <h4 class="card-title mb-4">${questionText}</h4>
                            <div class="d-flex flex-wrap justify-content-center">
                                ${question.options.map(option => `
                                    <button class="btn btn-option ${quizAnswers[question.id] === option.value ? 'active' : ''}" 
                                            data-question="${question.id}" data-value="${option.value}">
                                        ${translations[currentLanguage][option.key]}
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;

                // Add option click handlers
                container.querySelectorAll('.btn-option').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const question = this.dataset.question;
                        const value = this.dataset.value;
                        
                        // Remove active class from siblings
                        this.parentElement.querySelectorAll('.btn-option').forEach(b => b.classList.remove('active'));
                        // Add active class to clicked button
                        this.classList.add('active');
                        
                        quizAnswers[question] = value;
                        
                        // Enable next button
                        document.getElementById('nextBtn').disabled = false;
                    });
                });
            }

            updateStepIndicator();
            updateProgressBar();
            updateNavigationButtons();
        }

        function updateStepIndicator() {
            const steps = document.querySelectorAll('.step');
            steps.forEach((step, index) => {
                const stepNum = index + 1;
                step.classList.remove('active', 'completed');
                
                if (stepNum < currentStep) {
                    step.classList.add('completed');
                } else if (stepNum === currentStep) {
                    step.classList.add('active');
                }
            });
        }

        function updateProgressBar() {
            const progress = (currentStep / quizQuestions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = currentStep > 1 ? 'block' : 'none';
            
            if (currentStep > quizQuestions.length) {
                nextBtn.style.display = 'none';
            } else {
                nextBtn.style.display = 'block';
                const currentQuestion = quizQuestions[currentStep - 1];
                nextBtn.disabled = !quizAnswers[currentQuestion.id];
                
                if (currentStep === quizQuestions.length) {
                    nextBtn.innerHTML = `<span data-translate="get_result">Get Result</span><i class="fas fa-magic ms-2"></i>`;
                    nextBtn.querySelector('span').textContent = currentLanguage === 'en' ? 'Get Result' : 
                        currentLanguage === 'hi' ? '‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§™‡§æ‡§è‡§Ç' : '‡∞´‡∞≤‡∞ø‡∞§‡∞Ç ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø';
                } else {
                    nextBtn.innerHTML = `<span data-translate="next">${translations[currentLanguage].next}</span><i class="fas fa-arrow-right ms-2"></i>`;
                }
            }
        }

        function handleNext() {
            if (currentStep <= quizQuestions.length) {
                currentStep++;
                
                if (currentStep > quizQuestions.length) {
                    showResult();
                } else {
                    renderQuizStep();
                }
            }
        }

        function handlePrevious() {
            if (currentStep > 1) {
                currentStep--;
                renderQuizStep();
            }
        }

        function showResult() {
            // Show loading
            document.getElementById('loadingSpinner').style.display = 'block';
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('quizNavigation').style.display = 'none';

            setTimeout(() => {
                const predictedGenre = predictGenre();
                displayResult(predictedGenre);
                
                document.getElementById('loadingSpinner').style.display = 'none';
                document.getElementById('quizResult').style.display = 'block';
            }, 2000);
        }

        function predictGenre() {
            const answers = Object.values(quizAnswers);
            let bestMatch = 'Drama';
            let bestScore = 0;

            for (const [genre, config] of Object.entries(genreLogic)) {
                let score = 0;
                config.conditions.forEach(condition => {
                    if (answers.includes(condition)) {
                        score++;
                    }
                });

                if (score > bestScore) {
                    bestScore = score;
                    bestMatch = genre;
                }
            }

            return bestMatch;
        }

        function displayResult(genre) {
            const config = genreLogic[genre];
            const recommendations = getRecommendations(genre);
            
            document.getElementById('quizResult').innerHTML = `
                <div class="result-card">
                    <span class="genre-emoji">${config.emoji}</span>
                    <h2 class="mb-3">Your Perfect Genre: ${genre}</h2>
                    <p class="lead mb-4">${config.message}</p>
                    <button class="btn btn-light btn-lg" onclick="restartQuiz()">
                        <i class="fas fa-redo me-2"></i>Take Quiz Again
                    </button>
                </div>
                
                <div class="mt-4">
                    <h4 class="text-center mb-4">Recommended Movies</h4>
                    <div class="row g-3">
                        ${recommendations.map(movie => `
                            <div class="col-md-4">
                                <div class="card movie-card">
                                    <img src="${movie.poster}" class="card-img-top movie-poster" alt="${movie.title}">
                                    <div class="card-body">
                                        <h6 class="card-title">${movie.title}</h6>
                                        <small class="text-muted">${movie.year}</small>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function getRecommendations(genre) {
            const recommendations = {
                'Comedy': [
                    { title: 'The Grand Budapest Hotel', year: '2014', poster: 'https://images.unsplash.com/photo-1489599162406-41a3df7c07de?w=400&h=600&fit=crop' },
                    { title: 'Superbad', year: '2007', poster: 'https://images.unsplash.com/photo-1515634928627-2a4e0dae3ddf?w=400&h=600&fit=crop' },
                    { title: 'Anchorman', year: '2004', poster: 'https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?w=400&h=600&fit=crop' }
                ],
                'Romance': [
                    { title: 'The Notebook', year: '2004', poster: 'https://images.unsplash.com/photo-1522204523234-8729aa6e3d5f?w=400&h=600&fit=crop' },
                    { title: 'Pride and Prejudice', year: '2005', poster: 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=600&fit=crop' },
                    { title: 'La La Land', year: '2016', poster: 'https://images.unsplash.com/photo-1514306191717-452ec28c7814?w=400&h=600&fit=crop' }
                ],
                'Action': [
                    { title: 'Mad Max: Fury Road', year: '2015', poster: 'https://images.unsplash.com/photo-1509716093026-c4b5dc5166e3?w=400&h=600&fit=crop' },
                    { title: 'John Wick', year: '2014', poster: 'https://images.unsplash.com/photo-1572188863110-46d457c9234d?w=400&h=600&fit=crop' },
                    { title: 'The Dark Knight', year: '2008', poster: 'https://images.unsplash.com/photo-1509281373149-e957c6296406?w=400&h=600&fit=crop' }
                ],
                'Horror': [
                    { title: 'Get Out', year: '2017', poster: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=600&fit=crop' },
                    { title: 'Hereditary', year: '2018', poster: 'https://images.unsplash.com/photo-1571915368946-4eb1bf7ef728?w=400&h=600&fit=crop' },
                    { title: 'The Conjuring', year: '2013', poster: 'https://images.unsplash.com/photo-1635805737707-575885ab0820?w=400&h=600&fit=crop' }
                ],
                'Drama': [
                    { title: 'Moonlight', year: '2016', poster: 'https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=400&h=600&fit=crop' },
                    { title: 'Manchester by the Sea', year: '2016', poster: 'https://images.unsplash.com/photo-1536440136628-849c177e76a1?w=400&h=600&fit=crop' },
                    { title: 'The Pursuit of Happyness', year: '2006', poster: 'https://images.unsplash.com/photo-1595769816263-9b910be24d5f?w=400&h=600&fit=crop' }
                ],
                'Sci-Fi': [
                    { title: 'Blade Runner 2049', year: '2017', poster: 'https://images.unsplash.com/photo-1446776877081-d282a0f896e2?w=400&h=600&fit=crop' },
                    { title: 'Interstellar', year: '2014', poster: 'https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?w=400&h=600&fit=crop' },
                    { title: 'Ex Machina', year: '2014', poster: 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=400&h=600&fit=crop' }
                ],
                'Fantasy': [
                    { title: 'The Lord of the Rings', year: '2001', poster: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=600&fit=crop' },
                    { title: 'Pan\'s Labyrinth', year: '2006', poster: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=600&fit=crop' },
                    { title: 'The Shape of Water', year: '2017', poster: 'https://images.unsplash.com/photo-1514306191717-452ec28c7814?w=400&h=600&fit=crop' }
                ],
                'Historical': [
                    { title: 'Dunkirk', year: '2017', poster: 'https://images.unsplash.com/photo-1509281373149-e957c6296406?w=400&h=600&fit=crop' },
                    { title: '1917', year: '2019', poster: 'https://images.unsplash.com/photo-1509716093026-c4b5dc5166e3?w=400&h=600&fit=crop' },
                    { title: 'The King\'s Speech', year: '2010', poster: 'https://images.unsplash.com/photo-1489599162406-41a3df7c07de?w=400&h=600&fit=crop' }
                ]
            };

            return recommendations[genre] || recommendations['Drama'];
        }

        function restartQuiz() {
            currentStep = 1;
            quizAnswers = {};
            document.getElementById('quizResult').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('quizNavigation').style.display = 'flex';
            renderQuizStep();
        }

        function addMovie() {
            const nameInput = document.getElementById('movieName');
            const imageInput = document.getElementById('movieImage');
            
            const name = nameInput.value.trim();
            const imageUrl = imageInput.value.trim();

            if (!name) {
                showToast(translations[currentLanguage].enter_movie_name, 'warning');
                return;
            }

            if (!imageUrl) {
                showToast(translations[currentLanguage].enter_image_url, 'warning');
                return;
            }

            const movie = {
                id: Date.now(),
                name: name,
                image: imageUrl
            };

            movies.push(movie);
            saveMovies();
            renderMovies();
            
            // Clear form
            nameInput.value = '';
            imageInput.value = '';
            
            showToast(translations[currentLanguage].movie_added, 'success');
        }

        function deleteMovie(id) {
            const movieElement = document.querySelector(`[data-movie-id="${id}"]`);
            
            // Add fade out animation
            movieElement.classList.add('fade-out');
            
            setTimeout(() => {
                movies = movies.filter(movie => movie.id !== id);
                saveMovies();
                renderMovies();
                showToast(translations[currentLanguage].movie_deleted, 'info');
            }, 500);
        }

        function renderMovies() {
            const container = document.getElementById('moviesGrid');
            const emptyState = document.getElementById('emptyState');
            
            if (movies.length === 0) {
                container.innerHTML = '';
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            container.innerHTML = movies.map(movie => `
                <div class="col-md-4 col-sm-6" data-movie-id="${movie.id}">
                    <div class="card movie-card">
                        <img src="${movie.image}" class="card-img-top movie-poster" alt="${movie.name}" 
                             onerror="this.src='https://images.unsplash.com/photo-1489599162406-41a3df7c07de?w=400&h=600&fit=crop'">
                        <button class="delete-btn" onclick="deleteMovie(${movie.id})" title="Delete movie">
                            <i class="fas fa-trash"></i>
                        </button>
                        <div class="card-body">
                            <h6 class="card-title">${movie.name}</h6>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toastId = 'toast-' + Date.now();
            
            const bgColor = {
                'success': 'bg-success',
                'warning': 'bg-warning',
                'info': 'bg-info',
                'danger': 'bg-danger'
            }[type] || 'bg-info';
            
            const toast = document.createElement('div');
            toast.className = `toast align-items-center text-white ${bgColor} border-0`;
            toast.id = toastId;
            toast.setAttribute('role', 'alert');
            toast.innerHTML = `
                <div class="d-flex">
                    <div class="toast-body">
                        ${message}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                </div>
            `;
            
            toastContainer.appendChild(toast);
            
            const bsToast = new bootstrap.Toast(toast, {
                autohide: true,
                delay: 3000
            });
            
            bsToast.show();
            
            // Remove toast element after it's hidden
            toast.addEventListener('hidden.bs.toast', () => {
                toast.remove();
            });
        }
    </script>
</body>
</html>